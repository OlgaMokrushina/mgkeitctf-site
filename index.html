<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MGKEITCTF ‚Äî 3 —É—Ä–æ–≤–Ω—è</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .card { box-shadow: 0 10px 30px rgba(0,0,0,.12), inset 0 0 0 1px rgba(255,255,255,.06); }
    .glow { text-shadow: 0 0 20px rgba(59,130,246,.35); }
    .step-active { background: linear-gradient(90deg, #60a5fa, #a78bfa); color: white; }
    .step-done   { background: #22c55e; color: white; }
    .confetti { position: fixed; top: -10px; width: 8px; height: 14px; opacity: .9; animation: fall linear forwards; }
    @keyframes fall { to { transform: translateY(110vh) rotate(360deg); opacity: .95; } }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900 text-slate-100">
  <header class="max-w-5xl mx-auto px-4 pt-10 pb-6">
    <h1 class="text-3xl md:text-4xl font-bold glow">MGKEITCTF ‚Äî —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –º–∏–Ω–∏‚Äë—Å–∞–π—Ç (3 —É—Ä–æ–≤–Ω—è)</h1>
    <p class="mt-3 text-slate-300">–§–æ—Ä–º–∞—Ç —Ñ–ª–∞–≥–∞ <code class="px-1 rounded bg-slate-800">MGKEITCTF{...}</code>. –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–ª–∞–≥–æ–≤ –∏–¥—É—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ‚Äî –≤ –∫–æ–¥–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ñ–ª–∞–≥–æ–≤ –Ω–µ—Ç.</p>
  </header>
// => "MGKEITCTF{web_warrior}"
  <section class="max-w-5xl mx-auto px-4">
    <div class="grid grid-cols-3 gap-3">
      <div id="step1" class="card rounded-2xl p-3 text-center border border-slate-800 step-active">–£—Ä–æ–≤–µ–Ω—å 1</div>
      <div id="step2" class="card rounded-2xl p-3 text-center border border-slate-800">–£—Ä–æ–≤–µ–Ω—å 2</div>
      <div id="step3" class="card rounded-2xl p-3 text-center border border-slate-800">–£—Ä–æ–≤–µ–Ω—å 3</div>
    </div>
  </section>

  <main class="max-w-5xl mx-auto px-4 py-8 space-y-6">
    <div class="flex gap-3 items-end">
      <label class="text-sm text-slate-300">–ù–∏–∫/–§–ò–û –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):</label>
      <input id="user" type="text" placeholder="anon" class="rounded-xl bg-slate-800/80 border border-slate-700 px-3 py-2 outline-none focus:ring-2 focus:ring-indigo-500"/>
    </div>

    <!-- –£—Ä–æ–≤–µ–Ω—å 1: Base64 —Ä–∞–∑–º–∏–Ω–∫–∞ -->
    <section id="level1" class="card rounded-3xl border border-slate-800 p-6 bg-slate-900/60">
      <div class="flex items-start justify-between gap-4">
        <div>
          <h2 class="text-2xl font-semibold">–£—Ä–æ–≤–µ–Ω—å 1 ‚Äî ¬´–†–∞–∑–º–∏–Ω–∫–∞¬ª (Base64)</h2>
          <p class="mt-1 text-slate-300">–ü–µ—Ä–µ–¥ –≤–∞–º–∏ —Å—Ç—Ä–æ–∫–∞ –≤ Base64. –î–µ–∫–æ–¥–∏—Ä—É–π—Ç–µ –∏ –≤–≤–µ–¥–∏—Ç–µ —Ñ–ª–∞–≥ —Ü–µ–ª–∏–∫–æ–º (—Å —Ñ–∏–≥—É—Ä–Ω—ã–º–∏ —Å–∫–æ–±–∫–∞–º–∏).</p>
        </div>
        <span class="text-xs px-2 py-1 rounded bg-slate-800 border border-slate-700">–∫—Ä–∏–ø—Ç–æ/–∫–æ–¥–∏—Ä–æ–≤–∫–∏</span>
      </div>
      <div class="mt-4 p-4 rounded-xl bg-slate-800/70 font-mono text-slate-50 select-all overflow-x-auto">TUdLRUlUQ1RGe2hlbGxvX3dvcmxkfQ==</div>
      <div class="mt-4 flex flex-col sm:flex-row gap-3">
        <input id="flag1" type="text" placeholder="MGKEITCTF{...}" class="w-full sm:flex-1 rounded-xl bg-slate-800/80 border border-slate-700 px-4 py-3 outline-none focus:ring-2 focus:ring-indigo-500 font-mono" />
        <button onclick="check(1)" class="rounded-xl px-5 py-3 bg-indigo-600 hover:bg-indigo-500 active:scale-[.99] transition">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      </div>
      <p id="msg1" class="mt-3 text-sm"></p>
    </section>

    <!-- –£—Ä–æ–≤–µ–Ω—å 2: –¶–µ–∑–∞—Ä—å -->
    <section id="level2" class="card rounded-3xl border border-slate-800 p-6 bg-slate-900/40 ">
      <div class="flex items-start justify-between gap-4">
        <div>
          <h2 class="text-2xl font-semibold">–£—Ä–æ–≤–µ–Ω—å 2 ‚Äî ¬´–°–¥–≤–∏–≥ –¶–µ–∑–∞—Ä—è¬ª</h2>
          <p class="mt-1 text-slate-300">–ù–∏–∂–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ. –ü—Ä–∏–º–µ–Ω—ë–Ω —Å–¥–≤–∏–≥ <span class="font-semibold">+4</span> –≤–Ω—É—Ç—Ä–∏ —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–æ–∫. –í–µ—Ä–Ω–∏—Ç–µ –Ω–∞–∑–∞–¥.</p>
        </div>
        <span class="text-xs px-2 py-1 rounded bg-slate-800 border border-slate-700">–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ —à–∏—Ñ—Ä—ã</span>
      </div>
      <div class="mt-4 p-4 rounded-xl bg-slate-800/70 font-mono text-slate-50 overflow-x-auto">MGKEITCTF{jmb_xli_psmkmg}</div>
      <details class="mt-3 text-slate-400">
        <summary class="cursor-pointer hover:text-slate-200">–ü–æ–¥—Å–∫–∞–∑–∫–∞</summary>
        <div class="mt-2 text-slate-300">–°–¥–≤–∏–≥ –Ω–∞–∑–∞–¥ –Ω–∞ 4 –ø–æ–∑–∏—Ü–∏–∏: a‚Üíw, b‚Üíx, c‚Üíy, d‚Üíz, e‚Üía –∏ —Ç.–¥.</div>
      </details>
      <div class="mt-4 flex flex-col sm:flex-row gap-3">
        <input id="flag2" type="text" placeholder="MGKEITCTF{...}" class="w-full sm:flex-1 rounded-xl bg-slate-800/80 border border-slate-700 px-4 py-3 outline-none focus:ring-2 focus:ring-indigo-500 font-mono" />
        <button onclick="check(2)" class="rounded-xl px-5 py-3 bg-indigo-600 hover:bg-indigo-500 active:scale-[.99] transition">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      </div>
      <p id="msg2" class="mt-3 text-sm"></p>
    </section>

    <!-- –£—Ä–æ–≤–µ–Ω—å 3: –ü–æ–∏—Å–∫ –≤ –∫–æ–¥–µ/—Å—Ç–∏–ª—è—Ö -->
    <section id="level3" class="card rounded-3xl border border-slate-800 p-6 bg-slate-900/20 ">
      <div class="flex items-start justify-between gap-4">
        <div>
          <h2 class="text-2xl font-semibold">–£—Ä–æ–≤–µ–Ω—å 3 ‚Äî ¬´–ü–æ–∏—Å–∫ –≤ –∫–æ–¥–µ¬ª (–∏–Ω—Å–ø–µ–∫—Ç–æ—Ä)</h2>
          <p class="mt-1 text-slate-300">–§–ª–∞–≥ —Å–ø—Ä—è—Ç–∞–Ω —á–∞—Å—Ç—è–º–∏ –≤ —Ä–∞–∑–º–µ—Ç–∫–µ –∏ –∞—Ç—Ä–∏–±—É—Ç–∞—Ö. –ù–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ ‚Äî —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.</p>
        </div>
        <span class="text-xs px-2 py-1 rounded bg-slate-800 border border-slate-700">web/debug</span>
      </div>
      <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –ø–æ–¥ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ -->
      <p class="mt-3 text-slate-300">–ò—â–∏—Ç–µ –∫—É—Å–æ—á–∫–∏ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö HTML, –ø—Å–µ–≤–¥–æ‚Äë—ç–ª–µ–º–µ–Ω—Ç–∞—Ö –∏ data‚Äë–∞—Ç—Ä–∏–±—É—Ç–∞—Ö.</p>
      <div class="mt-4 p-4 rounded-xl bg-slate-800/60 border border-slate-700">
        <div class="text-lg">–ì–¥–µ‚Äë—Ç–æ –∑–¥–µ—Å—å –µ—Å—Ç—å –Ω–∞–º—ë–∫‚Ä¶</div>
      </div>
      <div class="mt-4 flex flex-col sm:flex-row gap-3">
        <input id="flag3" type="text" placeholder="MGKEITCTF{...}" class="w-full sm:flex-1 rounded-xl bg-slate-800/80 border border-slate-700 px-4 py-3 outline-none focus:ring-2 focus:ring-indigo-500 font-mono" />
        <button onclick="check(3)" class="rounded-xl px-5 py-3 bg-indigo-600 hover:bg-indigo-500 active:scale-[.99] transition">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
      </div>
      <p id="msg3" class="mt-3 text-sm"></p>
    </section>

    <section id="finish" class="card rounded-3xl border border-slate-800 p-8 bg-slate-900/30 hidden text-center">
      <h2 class="text-3xl font-bold">–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! üéâ</h2>
      <p class="mt-2 text-slate-300">–í—ã –ø—Ä–æ—à–ª–∏ –≤—Å–µ 3 —É—Ä–æ–≤–Ω—è.</p>
      <div class="mt-4 flex justify-center gap-3">
        <button onclick="location.reload()" class="rounded-xl px-5 py-3 bg-slate-800 border border-slate-700 hover:bg-slate-700">–°–±—Ä–æ—Å–∏—Ç—å</button>
        <button onclick="spawnConfetti()" class="rounded-xl px-5 py-3 bg-emerald-600 hover:bg-emerald-500">–ï—â—ë –∫–æ–Ω—Ñ–µ—Ç—Ç–∏</button>
      </div>
    </section>
  </main>

  <footer class="max-w-5xl mx-auto px-4 pb-12 text-slate-400 text-sm">
    <p>–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä: —á—Ç–æ–±—ã —Å–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç—ã/–ø–æ–¥—Å–∫–∞–∑–∫–∏ ‚Äî –ø—Ä–∞–≤—å—Ç–µ HTML. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–ª–∞–≥–æ–≤ ‚Äî –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Cloudflare Worker).</p>
  </footer>

  <script>
    // 1) –£–∫–∞–∂–∏ URL –≤–æ—Ä–∫–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ñ–ª–∞–≥–∏ (–º—ã –¥–∞–¥–∏–º –µ–≥–æ –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)
    const CHECK_URL = "https://mgkeit-check.mokrushinaolllya.workers.dev"; // –Ω–∞–ø—Ä–∏–º–µ—Ä: https://mgkeit-check.yourname.workers.dev/check

    function markStep(n, state) {
      const el = document.getElementById('step' + n);
      el.classList.remove('step-active','step-done');
      if (state === 'active') el.classList.add('step-active');
      if (state === 'done')   el.classList.add('step-done');
    }

    function showLevel(n) {
      for (let i=1;i<=3;i++) {
        document.getElementById('level'+i).classList.add('hidden');
      }
      document.getElementById('level'+n).classList.remove('hidden');
      for (let i=1;i< n;i++) markStep(i,'done');
      markStep(n,'active');
      for (let i=n+1;i<=3;i++) markStep(i,null);
    }

    async function check(n) {
      const inp = document.getElementById('flag'+n);
      const msg = document.getElementById('msg'+n);
      const user = (document.getElementById('user')?.value || 'anon');
      msg.textContent = '–ü—Ä–æ–≤–µ—Ä—è—é‚Ä¶';
      msg.className = 'mt-3 text-sm text-slate-300';
      fetch(CHECK_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ flag: inp.value.trim(), level: n, user })
      })
      .then(r => r.json())
      .then(data => {
        if (data && data.ok) {
          if (n === 1) {
            msg.textContent = '–ú–æ–ª–æ–¥–µ—Ü! –ü–µ—Ä–µ—Ö–æ–¥–∏ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å 2 ‚Üì';
            msg.className = 'mt-3 text-sm text-emerald-400';
            spawnConfetti();
            document.getElementById('level2')?.scrollIntoView({behavior:'smooth'});
          } else if (n === 2) {
            msg.textContent = '–û—Ç–ª–∏—á–Ω–æ! –ü–µ—Ä–µ—Ö–æ–¥–∏ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å 3 ‚Üì';
            msg.className = 'mt-3 text-sm text-emerald-400';
            spawnConfetti();
            document.getElementById('level3')?.scrollIntoView({behavior:'smooth'});
          } else {
            msg.textContent = '–°—É–ø–µ—Ä! –¢—ã –ø—Ä–æ—à—ë–ª –≤—Å–µ —É—Ä–æ–≤–Ω–∏ üéâ';
            msg.className = 'mt-3 text-sm text-emerald-400';
            spawnConfetti();
          }
        } else {
          msg.textContent = '–ù–µ–≤–µ—Ä–Ω–æ. –ü—Ä–æ–≤–µ—Ä—å —Ñ–æ—Ä–º–∞—Ç –∏ —Ä–µ—à–µ–Ω–∏–µ.';
          msg.className = 'mt-3 text-sm text-rose-400';
        }
      })
      .catch(() => {
        msg.textContent = '–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º –ø—Ä–æ–≤–µ—Ä–∫–∏.';
        msg.className = 'mt-3 text-sm text-rose-400';
      });
    }

    function spawnConfetti() {
      const colors = ['#60a5fa','#a78bfa','#34d399','#f472b6','#f59e0b','#eab308'];
      for (let i=0;i<60;i++) {
        const d = document.createElement('div');
        d.className = 'confetti';
        d.style.left = Math.random()*100 + 'vw';
        d.style.background = colors[Math.floor(Math.random()*colors.length)];
        d.style.animationDuration = (1.5 + Math.random()*1.5) + 's';
        d.style.transform = 'rotate(' + (Math.random()*360) + 'deg)';
        document.body.appendChild(d);
        setTimeout(()=>d.remove(), 3000);
      }
    }

    
  </script>
</body>
</html>
